
CREATE TABLE PROGRAMA
( 
	IDPROGRAMA           integer  NOT NULL ,
	NOMBRE               varchar(150)  NOT NULL ,
	FECINICIO            datetime  NOT NULL ,
	CONSTRAINT XPKPROGRAMA PRIMARY KEY (IDPROGRAMA ASC)
)
go



CREATE TABLE ALUMNO
( 
	IDALUMNO             integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(150)  NOT NULL ,
	CONSTRAINT XPKALUMNO PRIMARY KEY (IDALUMNO ASC)
)
go



CREATE TABLE MATRICULA
( 
	IDMATRICULA          integer IDENTITY ( 1,1 ) ,
	FECHA                datetime  NOT NULL ,
	IDPROGRAMA           integer  NOT NULL ,
	IDALUMNO             integer  NOT NULL ,
	CONSTRAINT XPKMATRICULA PRIMARY KEY (IDMATRICULA ASC),
	CONSTRAINT FK_MATRICULA_PROGRAMA FOREIGN KEY (IDPROGRAMA) REFERENCES PROGRAMA(IDPROGRAMA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_MATRICULA_ALUMNO FOREIGN KEY (IDALUMNO) REFERENCES ALUMNO(IDALUMNO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE CURSO
( 
	IDCURSO              integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(150)  NOT NULL ,
	CONSTRAINT XPKCURSO PRIMARY KEY (IDCURSO ASC)
)
go



CREATE TABLE DETALLE
( 
	IDMATRICULA          integer  NOT NULL ,
	MES                  integer  NOT NULL ,
	IDCURSO              integer  NOT NULL ,
	PROFESOR             varchar(150)  NOT NULL ,
	CONSTRAINT XPKDETALLE PRIMARY KEY (IDMATRICULA ASC,MES ASC),
	CONSTRAINT FK_DETALLE_MATRICULA FOREIGN KEY (IDMATRICULA) REFERENCES MATRICULA(IDMATRICULA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_DETALLE_CURSO FOREIGN KEY (IDCURSO) REFERENCES CURSO(IDCURSO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go


